{"version":3,"file":"js/309.ddd255f0.js","mappings":"iNAKA,MAAMA,EAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEG,EAAa,CAAEC,MAAO,OACtBC,EAA2BN,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,MAAO,CAC1FC,IAAKC,EACLC,MAAO,MACPL,MAAO,OACPM,IAAK,cACJ,MAAO,KACJC,EAAa,CACjBC,IAAK,EACLR,MAAO,mBAEHS,EAAa,CACjBD,IAAK,EACLR,MAAO,qBAEHU,EAAa,CAAEV,MAAO,QACtBW,EAAa,CAAEX,MAAO,QACtBY,EAAa,CAAEZ,MAAO,QACtBa,EAAa,CAAEb,MAAO,QAU5B,GAA4Bc,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,YACRC,MAAMC,GAEN,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MACRC,GAAUC,EAAAA,EAAAA,MACVC,GAAYC,EAAAA,EAAAA,KACZC,GAAQH,EAAAA,EAAAA,MACRI,GAAOC,EAAAA,EAAAA,IAAS,CACpBC,MAAO,GACPC,SAAU,KAGTV,EAAMW,MAAMT,UACbA,EAAQU,MAAQ,2DAGlB,MAAMC,EAAeC,UAEnB,IAAIP,EAAKE,QAAUF,EAAKG,SAEtB,YADAJ,EAAMM,MAAQ,6BAIhB,MAAMG,QAAgBC,EAAAA,GAAAA,OAAyB,CAC3CC,QAAS,gBACTC,QAAS,YAGbH,EAAQI,gBACFf,EAAUgB,MAAMb,EAAKE,MAAOF,EAAKG,UACvCK,EAAQM,UACRC,QAAQC,IAAI,aACVD,QAAQC,KAAIlB,EAAAA,EAAAA,KAAemB,OAC1BnB,EAAAA,EAAAA,KAAeC,MAChBA,EAAMM,OAAQP,EAAAA,EAAAA,KAAeC,OAI5BD,EAAAA,EAAAA,KAAeoB,UAChB3B,EAAO4B,KAAK,I,EAOlB,MAAO,CAACC,EAAUC,KAChB,MAAMC,GAAyBC,EAAAA,EAAAA,IAAkB,eAEjD,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,KAAaC,EAAAA,EAAAA,IAAOC,EAAAA,IAAU,KAAM,CACxDC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOK,EAAAA,IAAa,CAC/BC,YAAY,EACZC,MAAO,SACN,CACDL,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBtD,EAAAA,EAAAA,GAAoB,MAAOH,EAAY,EACrC0D,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOQ,EAAAA,IAAU,CAC5B7D,MAAO,OACP8D,MAAO,CAAC,QAAU,aACjB,CACDP,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOU,EAAAA,IAAgB,KAAM,CACxCR,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACtBvD,KAEF+D,EAAG,KAELP,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOY,EAAAA,IAAiB,KAAM,CACzCV,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACrB9B,EAAMM,QACFmB,EAAAA,EAAAA,OAAce,EAAAA,EAAAA,IAAoB,MAAO3D,EAAY,EACpDL,EAAAA,EAAAA,GAAoB,KAAM,KAAM,EAC9BA,EAAAA,EAAAA,GAAoB,KAAM,MAAMiE,EAAAA,EAAAA,IAAiBzC,EAAMM,OAAQ,SAGnEoC,EAAAA,EAAAA,IAAoB,IAAI,GAC3B9C,EAAQU,QACJmB,EAAAA,EAAAA,OAAce,EAAAA,EAAAA,IAAoB,MAAOzD,GAAY0D,EAAAA,EAAAA,IAAiB7C,EAAQU,OAAQ,KACvFoC,EAAAA,EAAAA,IAAoB,IAAI,IAC5BlE,EAAAA,EAAAA,GAAoB,MAAOQ,EAAY,EACrC+C,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOgB,EAAAA,IAAW,CAAErE,MAAO,qBAAuB,CAC7DuD,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBc,EAAAA,EAAAA,IAAiB,YAEnBN,EAAG,KAELP,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOkB,EAAAA,IAAW,CAC7BC,WAAY7C,EAAKE,MACjB,sBAAuBmB,EAAO,KAAOA,EAAO,GAAMyB,GAAkB9C,EAAKE,MAAS4C,GAClFC,KAAM,QACN1E,MAAO,eACP2E,YAAa,eACZ,KAAM,EAAG,CAAC,kBAEfzE,EAAAA,EAAAA,GAAoB,MAAOS,EAAY,EACrC8C,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOgB,EAAAA,IAAW,CAAErE,MAAO,qBAAuB,CAC7DuD,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBc,EAAAA,EAAAA,IAAiB,eAEnBN,EAAG,KAELP,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOkB,EAAAA,IAAW,CAC7BC,WAAY7C,EAAKG,SACjB,sBAAuBkB,EAAO,KAAOA,EAAO,GAAMyB,GAAkB9C,EAAKG,SAAY2C,GACrFC,KAAM,WACN1E,MAAO,eACP2E,YAAa,kBACZ,KAAM,EAAG,CAAC,kBAEfzE,EAAAA,EAAAA,GAAoB,MAAOU,EAAY,EACrC6C,EAAAA,EAAAA,KAAaJ,EAAAA,EAAAA,IAAOuB,EAAAA,IAAY,CAC9BC,QAAS7B,EAAO,KAAOA,EAAO,GAAMyB,GAAiBxC,KACrD6C,KAAM,QACNC,OAAQ,QACR/E,MAAO,WACN,CACDuD,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBc,EAAAA,EAAAA,IAAiB,YAEnBN,EAAG,OAGP9D,EAAAA,EAAAA,GAAoB,MAAOW,EAAY,EACrCX,EAAAA,EAAAA,GAAoB,IAAK,KAAM,EAC7BoE,EAAAA,EAAAA,IAAiB,4BACjBb,EAAAA,EAAAA,IAAaR,EAAwB,CAAE+B,GAAI,aAAe,CACxDzB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBc,EAAAA,EAAAA,IAAiB,aAEnBN,EAAG,WAKXA,EAAG,OAGPA,EAAG,SAITA,EAAG,OAGPA,EAAG,GACH,CAEJ,I,cClLA,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://home/./src/views/LoginPage.vue?0750","webpack://home/./src/views/LoginPage.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/images/logo.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-52fcdb22\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"row\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  width: \"300\",\n  class: \"logo\",\n  alt: \"image here\"\n}, null, -1))\nconst _hoisted_3 = {\n  key: 0,\n  class: \"error-container\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"success-container\"\n}\nconst _hoisted_5 = { class: \"mt-3\" }\nconst _hoisted_6 = { class: \"mt-1\" }\nconst _hoisted_7 = { class: \"mt-2\" }\nconst _hoisted_8 = { class: \"mt-2\" }\n\nimport {IonButton, IonContent, IonPage, IonCard, IonCardHeader, IonCardTitle, IonLabel, IonCardSubtitle,IonInput,IonCardContent, loadingController } from '@ionic/vue';\r\n  \r\n  import { Preferences } from '@capacitor/preferences';\r\n  import {  useAuthStore } from '@/stores/auth.js';\r\n  import { reactive, ref } from 'vue';\r\n  import { useRouter, useRoute } from 'vue-router';\r\n\r\n  \nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LoginPage',\n  setup(__props) {\n\r\n  const router = useRouter();\r\n  const route = useRoute();\r\n  const success = ref();\r\n  const authStore = useAuthStore();\r\n  const error = ref()\r\n  const form = reactive({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  if(route.query.success){\r\n    success.value = 'Account created successfully. Please login to continue.';\r\n  }\r\n\r\n  const attemptLogin = async () => {\r\n    \r\n    if(!form.email || !form.password){\r\n      error.value = 'Please fill in all fields';\r\n      return;\r\n    }\r\n\r\n    const loading = await loadingController.create({\r\n        message: 'Logging In...',\r\n        spinner: 'bubbles'\r\n    });\r\n\r\n    loading.present();\r\n    await authStore.login(form.email, form.password);\r\n    loading.dismiss();\r\n    console.log('logged in')\r\n      console.log(useAuthStore().user)\r\n    if(useAuthStore().error){\r\n      error.value = useAuthStore().error;\r\n      return;\r\n    }\r\n\r\n    if(useAuthStore().loggedIn){\r\n      router.push('/')\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  \nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createBlock(_unref(IonPage), null, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonContent), {\n        fullscreen: true,\n        color: \"light\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_unref(IonCard), {\n              class: \"card\",\n              style: {\"padding\":\"60px 0px\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(IonCardHeader), null, {\n                  default: _withCtx(() => [\n                    _hoisted_2\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonCardContent), null, {\n                  default: _withCtx(() => [\n                    (error.value)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                          _createElementVNode(\"ul\", null, [\n                            _createElementVNode(\"li\", null, _toDisplayString(error.value), 1)\n                          ])\n                        ]))\n                      : _createCommentVNode(\"\", true),\n                    (success.value)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(success.value), 1))\n                      : _createCommentVNode(\"\", true),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                      _createVNode(_unref(IonLabel), { class: \"fw-bold dark-text\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Email\")\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_unref(IonInput), {\n                        modelValue: form.email,\n                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((form.email) = $event)),\n                        type: \"email\",\n                        class: \"form-control\",\n                        placeholder: \"Enter Email\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                      _createVNode(_unref(IonLabel), { class: \"fw-bold dark-text\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Password\")\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_unref(IonInput), {\n                        modelValue: form.password,\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((form.password) = $event)),\n                        type: \"password\",\n                        class: \"form-control\",\n                        placeholder: \"Enter Password\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_7, [\n                      _createVNode(_unref(IonButton), {\n                        onClick: _cache[2] || (_cache[2] = ($event: any) => (attemptLogin())),\n                        size: \"large\",\n                        expand: \"block\",\n                        class: \"red-btn\"\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"Login\")\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_8, [\n                      _createElementVNode(\"p\", null, [\n                        _createTextVNode(\"Don't have an account? \"),\n                        _createVNode(_component_router_link, { to: \"/register\" }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(\"Signup\")\n                          ]),\n                          _: 1\n                        })\n                      ])\n                    ])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=52fcdb22&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\home\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-52fcdb22\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","src","_imports_0","width","alt","_hoisted_3","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_defineComponent","__name","setup","__props","router","useRouter","route","useRoute","success","ref","authStore","useAuthStore","error","form","reactive","email","password","query","value","attemptLogin","async","loading","loadingController","message","spinner","present","login","dismiss","console","log","user","loggedIn","push","_ctx","_cache","_component_router_link","_resolveComponent","_openBlock","_createBlock","_unref","IonPage","default","_withCtx","_createVNode","IonContent","fullscreen","color","IonCard","style","IonCardHeader","_","IonCardContent","_createElementBlock","_toDisplayString","_createCommentVNode","IonLabel","_createTextVNode","IonInput","modelValue","$event","type","placeholder","IonButton","onClick","size","expand","to","__exports__"],"sourceRoot":""}